# Пресет Bitrix

Пресет для развёртывания проектов на 1С-Битрикс в Docker-окружении.

## Требования

- PHP 7.4+ (рекомендуется 8.1–8.4)
- MySQL 5.7+ или 8.0
- Nginx (входит в контейнеры проекта)

## Установка

1. Создайте проект через DevPanel с пресетом **Bitrix** или выполните:
   ```bash
   /scripts/create-project.sh <имя-проекта.dev> 8.4 mysql bitrix
   ```
2. В `src/` автоматически добавляются актуальные скрипты установки:
   - `bitrixsetup.php`
   - `restore.php`
3. Скопируйте дистрибутив Битрикс в `src/` или запустите установку через `bitrixsetup.php`.
4. При первом запуске выполнится `install.sh` пресета.
5. Сгенерируйте из шаблона `.settings.php` (переменные `{{DB_HOST}}`, `{{DB_NAME}}`, `{{DB_USER}}`, `{{DB_PASSWORD}}` подставятся из .env проекта).

## Файлы пресета

- `install.sh` — скрипт установки (опционально: проверка прав, создание директорий upload, bitrix/cache и т.д.).
- `src/bitrixsetup.php` — установщик продукта (загружается автоматически при создании хоста).
- `src/restore.php` — скрипт восстановления из резервной копии (загружается автоматически при создании хоста).
- `.settings.php.template` — шаблон настроек Битрикс (БД, кеш).
- `nginx.conf.template` — шаблон nginx при необходимости отличий от стандартного (например, для bitrix/urlrewrite.php).

## Документация Битрикс

- [Установка на хостинг](https://dev.1c-bitrix.ru/learning/course/index.php?COURSE_ID=43&CHAPTER_ID=05804)
